<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../assets/images/global/RHconexao-icone.png" type="image/png">
    <title>Crie sua conta - Conexão RH</title>
</head>
<body>

    <div class="info-section">
        <div class="logo">CONEXÃO RH</div>
        <h1>A sua porta de entrada para o sucesso profissional.</h1>
        <p>Conectamos empresas inovadoras aos melhores talentos do mercado. Crie sua conta e comece a sua jornada.</p>

        <div class="testimonial-card">
            <p>"A plataforma é intuitiva e me ajudou a encontrar o candidato ideal em menos de uma semana. Recomendo!"</p>
            <div class="testimonial-author">
                <span>Ana Silva, Gerente de RH</span>
                <span class="stars">★★★★★</span>
            </div>
        </div>
    </div>

    <div class="form-section">
        <div class="form-content">
            <div class="stepper">
                <div class="step active"></div>
                <div class="step"></div>
                <div class="step"></div>
            </div>

            <h2>Vamos começar</h2>
            <form id="rh-form">
                <div class="form-group">
                    <div class="user-type-group">
                        <input type="radio" id="type-candidate" name="userType" value="candidate" checked>
                        <label for="type-candidate">Sou Candidato</label>
                        
                        <input type="radio" id="type-company" name="userType" value="company">
                        <label for="type-company">Sou Empresa</label>
                    </div>
                </div>

                <div class="form-group">
                    <label id="label-name" for="name">Nome Completo</label>
                    <input type="text" id="name" name="name" placeholder="Digite seu nome completo" required>
                </div>

                <div class="form-group">
                    <label id="label-doc" for="doc">CPF</label>
                    <input type="text" id="doc" name="doc" placeholder="000.000.000-00" required>
                </div>

                <div class="form-group">
                    <label for="celular">Celular</label>
                    <input type="tel" id="celular" name="celular" placeholder="(00) 00000-0000" required>
                </div>

                <div class="form-group">
                    <label for="endereco">Endereço</label>
                    <input type="text" id="endereco" name="endereco" placeholder="Sua cidade e estado" required>
                </div>

                <div class="form-group">
                    <label for="email">E-mail</label>
                    <input type="email" id="email" name="email" placeholder="seu.email@exemplo.com" required>
                </div>

                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" name="password" placeholder="Crie uma senha forte" required>
                    <div id="password-strength">
                        <div id="password-strength-bar"></div>
                    </div>
                </div>

                <button type="submit" class="submit-btn">Começar</button>
            </form>
        </div>
    </div>

    <script>
        // O CÓDIGO JAVASCRIPT NÃO PRECISA DE ALTERAÇÕES.
        document.addEventListener('DOMContentLoaded', () => {
            const userTypeRadios = document.querySelectorAll('input[name="userType"]');
            const labelName = document.getElementById('label-name');
            const inputName = document.getElementById('name');
            const labelDoc = document.getElementById('label-doc');
            const inputDoc = document.getElementById('doc');
            const inputCelular = document.getElementById('celular');
            const inputPassword = document.getElementById('password');
            const strengthBar = document.getElementById('password-strength-bar');
            const rhForm = document.getElementById('rh-form');

            const updateUserType = () => {
                const selectedType = document.querySelector('input[name="userType"]:checked').value;
                if (selectedType === 'company') {
                    labelName.textContent = 'Razão Social';
                    inputName.placeholder = 'Digite a razão social';
                    labelDoc.textContent = 'CNPJ';
                    inputDoc.placeholder = '00.000.000/0000-00';
                } else {
                    labelName.textContent = 'Nome Completo';
                    inputName.placeholder = 'Digite seu nome completo';
                    labelDoc.textContent = 'CPF';
                    inputDoc.placeholder = '000.000.000-00';
                }
                inputDoc.value = '';
            };

            userTypeRadios.forEach(radio => radio.addEventListener('change', updateUserType));

            const handleDocInput = (e) => {
                let value = e.target.value.replace(/\D/g, '');
                const selectedType = document.querySelector('input[name="userType"]:checked').value;

                if (selectedType === 'company') {
                    value = value.replace(/(\d{2})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1/$2');
                    value = value.replace(/(\d{4})(\d)/, '$1-$2');
                    e.target.value = value.slice(0, 18);
                } else {
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                    e.target.value = value.slice(0, 14);
                }
            };
            inputDoc.addEventListener('input', handleDocInput);
            
            const handleCelularInput = (e) => {
                let value = e.target.value.replace(/\D/g, '');
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                value = value.replace(/(\d{5})(\d)/, '$1-$2');
                e.target.value = value.slice(0, 15);
            };
            inputCelular.addEventListener('input', handleCelularInput);

            const checkPasswordStrength = (password) => {
                let score = 0;
                if (password.length >= 8) score++;
                if (/[A-Z]/.test(password)) score++;
                if (/[a-z]/.test(password)) score++;
                if (/[0-9]/.test(password)) score++;
                if (/[^A-Za-z0-9]/.test(password)) score++;

                let color = '#E0E0E0';
                switch (score) {
                    case 1:
                    case 2:
                        color = '#e74c3c'; // Vermelho
                        break;
                    case 3:
                        color = '#f1c40f'; // Amarelo
                        break;
                    case 4:
                    case 5:
                        color = '#0052FF'; // Azul Primário
                        break;
                }
                strengthBar.style.width = password.length > 0 ? `${score * 20}%` : '0%';
                strengthBar.style.backgroundColor = color;
            };
            inputPassword.addEventListener('input', (e) => checkPasswordStrength(e.target.value));

            rhForm.addEventListener('submit', (e) => {
                e.preventDefault(); 
                const password = inputPassword.value;
                if (password.length < 8) {
                    alert('Sua senha deve ter pelo menos 8 caracteres.');
                    return;
                }
                alert('Cadastro realizado com sucesso! (Isso é uma demonstração)');
            });

            updateUserType();
        });
    </script>
</body>
</html>